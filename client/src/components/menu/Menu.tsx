import { Link, useHistory, useLocation } from "react-router-dom";
import { MouseEvent, useEffect, useRef, useState } from "react";
import { useDispatch, useSelector } from "react-redux";
import { useTranslation } from "react-i18next";
import { timer } from "rxjs";
import useWindowDimensions from "../../utils/hooks/useWindowDimensions";
import { RootState } from "../../context/rootState.interface";
import { showMenu } from "../../context/actions/menu";
import { languages } from "../../utils/i18n/Langs";
import i18n from "../../utils/i18n/i18n";
import { setLanguageCookie } from "../button/language/LanguageButton";
import ThemeSwitch from "../switch/triple/ThemeSwitch";
import { Button } from "../button/Button";
import "./Menu.css";

export const Menu = () => {
  const [t] = useTranslation();
  const [hide, setHide] = useState(true);

  const { width } = useWindowDimensions();

  const menuRef = useRef(null);

  const location = useLocation();
  const history = useHistory();

  const dispatch = useDispatch();
  const displayMenu = useSelector((state: RootState) => state.menu.showOffsideMenu);
  const logged = useSelector((state: RootState) => state.auth.logged);

  useEffect(() => {
    if (!displayMenu) {
      timer(260).subscribe(() => {
        setHide(true);
      });
    } else {
      setHide(false);
    }
  }, [displayMenu]);

  useEffect(() => {
    dispatch(showMenu(false));
  }, [location]);

  useEffect(() => {
    if (width > 600) {
      setHide(true);
      dispatch(showMenu(false));
    }
  }, [width]);

  const navbarMenuList = [
    <Link to={`/${i18n.language}/`} className="a-i-c t-c flex f-w f-h j-c-f-s h6-s btn-sec no-border">
      <svg height="24px" width="24px" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
        <path d="m498.699219 222.695312c-.015625-.011718-.027344-.027343-.039063-.039062l-208.855468-208.847656c-8.902344-8.90625-20.738282-13.808594-33.328126-13.808594-12.589843 0-24.425781 4.902344-33.332031 13.808594l-208.746093 208.742187c-.070313.070313-.144532.144531-.210938.214844-18.28125 18.386719-18.25 48.21875.089844 66.558594 8.378906 8.382812 19.441406 13.234375 31.273437 13.746093.484375.046876.96875.070313 1.457031.070313h8.320313v153.695313c0 30.417968 24.75 55.164062 55.167969 55.164062h81.710937c8.285157 0 15-6.71875 15-15v-120.5c0-13.878906 11.292969-25.167969 25.171875-25.167969h48.195313c13.878906 0 25.167969 11.289063 25.167969 25.167969v120.5c0 8.28125 6.714843 15 15 15h81.710937c30.421875 0 55.167969-24.746094 55.167969-55.164062v-153.695313h7.71875c12.585937 0 24.421875-4.902344 33.332031-13.8125 18.359375-18.367187 18.367187-48.253906.027344-66.632813zm-21.242188 45.421876c-3.238281 3.238281-7.542969 5.023437-12.117187 5.023437h-22.71875c-8.285156 0-15 6.714844-15 15v168.695313c0 13.875-11.289063 25.164062-25.167969 25.164062h-66.710937v-105.5c0-30.417969-24.746094-55.167969-55.167969-55.167969h-48.195313c-30.421875 0-55.171875 24.75-55.171875 55.167969v105.5h-66.710937c-13.875 0-25.167969-11.289062-25.167969-25.164062v-168.695313c0-8.285156-6.714844-15-15-15h-22.328125c-.234375-.015625-.464844-.027344-.703125-.03125-4.46875-.078125-8.660156-1.851563-11.800781-4.996094-6.679688-6.679687-6.679688-17.550781 0-24.234375.003906 0 .003906-.003906.007812-.007812l.011719-.011719 208.847656-208.839844c3.234375-3.238281 7.535157-5.019531 12.113281-5.019531 4.574219 0 8.875 1.78125 12.113282 5.019531l208.800781 208.796875c.03125.03125.066406.0625.097656.09375 6.644531 6.691406 6.632813 17.539063-.03125 24.207032zm0 0" />
      </svg>
      <span>{t("chatMenu.m")}</span>
    </Link>,
    <Link to={`/${i18n.language}/features`} className="a-i-c t-c flex f-w f-h j-c-f-s h6-s btn-sec no-border">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        version="1.1"
        x="0px"
        y="0px"
        viewBox="0 0 512.001 512.001"
        xmlSpace="preserve"
        height="24px"
        width="24px"
      >
        <path d="M511.265,194.414c-1.899-5.84-7.166-9.933-13.295-10.33l-166.679-10.801l-61.828-155.33   c-2.271-5.707-7.794-9.453-13.937-9.453s-11.665,3.746-13.937,9.453l-61.828,155.333L14.025,184.085   c-6.117,0.398-11.377,4.48-13.282,10.308c-1.904,5.827-0.071,12.227,4.629,16.163L132.95,317.353L91.659,479.398   c-1.518,5.953,0.749,12.229,5.719,15.839c4.968,3.61,11.638,3.826,16.831,0.544l141.318-89.323l141.319,89.323   c5.202,3.288,11.871,3.06,16.831-0.544c4.97-3.611,7.236-9.887,5.719-15.839l-41.282-162.01l128.476-106.8   C511.312,206.662,513.165,200.254,511.265,194.414z M351.65,300.375c-4.451,3.7-6.376,9.63-4.946,15.238l34.316,134.675   l-117.479-74.254c-2.448-1.547-5.231-2.32-8.015-2.32s-5.566,0.773-8.015,2.32l-117.478,74.254l34.316-134.675   c1.425-5.59-0.483-11.502-4.906-15.206L53.341,211.587l137.828-8.98c5.776-0.376,10.82-4.043,12.961-9.421l51.396-129.125   l51.397,129.125c2.142,5.38,7.188,9.047,12.967,9.421l138.567,8.979L351.65,300.375z" />
        <path d="M269.468,180.198c-2.272-5.707-7.794-9.452-13.937-9.452s-11.664,3.745-13.937,9.452l-20.106,50.504l-54.262,3.518   c-6.129,0.397-11.396,4.492-13.295,10.333s-0.043,12.25,4.682,16.174l41.824,34.739l-13.421,52.675   c-1.517,5.952,0.748,12.227,5.717,15.838c4.967,3.61,11.635,3.828,16.83,0.547l45.967-29.04l45.953,29.039   c5.192,3.281,11.859,3.065,16.83-0.545c4.969-3.61,7.234-9.886,5.718-15.838l-13.421-52.675l41.824-34.739   c4.725-3.924,6.58-10.333,4.682-16.174c-1.898-5.841-7.166-9.936-13.295-10.333l-54.247-3.517L269.468,180.198z M284.151,278.446   c-4.454,3.7-6.381,9.632-4.951,15.243l6.458,25.349l-22.113-13.974c-4.894-3.092-11.129-3.093-16.024-0.001l-22.131,13.981   l6.46-25.355c1.43-5.611-0.497-11.543-4.951-15.243l-20.137-16.726l26.128-1.693c5.777-0.375,10.824-4.041,12.966-9.42   l9.677-24.307l9.677,24.307c2.142,5.379,7.188,9.045,12.966,9.42l26.114,1.693L284.151,278.446z" />
        <circle cx="256.001" cy="488.501" r="15" />
        <ellipse transform="matrix(0.309 -0.9511 0.9511 0.309 -11.6907 670.6978)" cx="455.723" cy="343.394" rx="15" ry="15" />
        <ellipse transform="matrix(0.5878 -0.809 0.809 0.5878 68.5423 351.7373)" cx="379.435" cy="108.607" rx="15" ry="15" />
        <ellipse transform="matrix(0.809 -0.5878 0.5878 0.809 -38.5199 98.6623)" cx="132.566" cy="108.607" rx="15" ry="15" />
        <ellipse transform="matrix(0.9511 -0.309 0.309 0.9511 -103.3616 34.1987)" cx="56.279" cy="343.394" rx="15" ry="15" />
      </svg>
      <span>{t("chatMenu.fe")}</span>
    </Link>,
    <Link to={`/${i18n.language}/faq`} className="a-i-c t-c flex f-w f-h j-c-f-s h6-s btn-sec no-border">
      <svg height="24px" width="24px" enableBackground="new 0 0 512 512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
        <g>
          <path d="m484.794 61.5h-404.864c-14.986 0-27.178 12.204-27.178 27.204v25.259h-25.546c-15.002 0-27.206 12.191-27.206 27.177v203.476c0 15 12.204 27.204 27.206 27.204h17.836v68.68c0 3.794 2.147 7.262 5.544 8.952 1.411.702 2.937 1.048 4.455 1.048 2.137 0 4.26-.685 6.029-2.021l101.467-76.659h256.357l32.037 24.197c1.77 1.337 3.892 2.021 6.028 2.021 1.519 0 3.045-.346 4.456-1.048 3.396-1.691 5.543-5.158 5.543-8.952v-68.681h17.836c15.001 0 27.206-12.204 27.206-27.205v-203.448c0-15-12.205-27.204-27.206-27.204zm7.206 230.651c0 3.905-3.3 7.205-7.206 7.205h-27.836c-5.522 0-10 4.478-10 10v58.596l-88.144-66.575c-1.736-1.312-3.853-2.021-6.027-2.021h-114.007c-5.522 0-10 4.478-10 10s4.478 10 10 10h110.654l42.98 32.463h-233.23c-2.176 0-4.292.71-6.028 2.021l-88.114 66.571v-58.593c0-5.522-4.478-10-10-10h-27.836c-3.974 0-7.206-3.231-7.206-7.204v-203.474c0-3.891 3.3-7.177 7.206-7.177h25.546v158.188c0 15.001 12.191 27.205 27.178 27.205h69.051c5.522 0 10-4.478 10-10s-4.478-10-10-10h-69.051c-3.891 0-7.178-3.3-7.178-7.205v-203.447c0-3.905 3.287-7.204 7.178-7.204h404.864c3.974 0 7.206 3.231 7.206 7.204z" />
          <path d="m297.654 201.855c-.094-.25-.197-.495-.31-.736l-30.896-73.275c-.069-.164-.138-.307-.207-.433-1.018-2.126-2.778-3.907-5.121-4.896-5.084-2.146-10.953.237-13.101 5.327l-31.039 73.571c-.017.041-.034.081-.052.122l-17.183 40.728c-2.146 5.088.238 10.953 5.327 13.101 1.269.535 2.586.789 3.883.789 3.899 0 7.606-2.297 9.218-6.116l14.628-34.672h48.843l14.618 34.67c1.611 3.821 5.318 6.118 9.219 6.118 1.296 0 2.612-.254 3.881-.788 5.09-2.146 7.476-8.011 5.33-13.1zm-56.414-6.49 15.991-37.903 15.981 37.903z" />
          <path d="m435.523 222.986c7.832-11.435 12.503-25.727 12.503-41.226 0-37.384-27.14-67.797-60.499-67.797-33.375 0-60.527 30.413-60.527 67.797 0 37.401 27.152 67.829 60.527 67.829 12.734 0 24.554-4.444 34.312-12.007l18.784 18.642c1.95 1.936 4.497 2.902 7.044 2.902 2.571 0 5.143-.986 7.098-2.956 3.891-3.92 3.866-10.251-.054-14.142zm-14.494-14.385-17.39-17.259c-3.92-3.89-10.251-3.867-14.142.054-3.891 3.92-3.866 10.251.054 14.142l17.943 17.809c-5.898 3.965-12.71 6.243-19.968 6.243-22.347 0-40.527-21.456-40.527-47.829 0-26.355 18.181-47.797 40.527-47.797 22.331 0 40.499 21.441 40.499 47.797.001 9.94-2.582 19.182-6.996 26.84z" />
          <path d="m194.838 184.136c0-5.522-4.478-10-10-10h-54.148v-32.406h54.147c5.522 0 10-4.478 10-10s-4.478-10-10-10h-64.147c-5.522 0-10 4.478-10 10v117.397c0 5.522 4.478 10 10 10s10-4.478 10-10v-54.991h54.147c5.523 0 10.001-4.478 10.001-10z" />
          <path d="m193.88 299.356c-5.522 0-10 4.478-10 10s4.478 10 10 10h.028c5.522 0 9.985-4.478 9.985-10s-4.491-10-10.013-10z" />
        </g>
      </svg>
      <span>{t("chatMenu.faq")}</span>
    </Link>,
    !logged ? (
      <Link to={`/${i18n.language}/user/login`} className="a-i-c t-c flex f-w f-h j-c-f-s h6-s btn-sec no-border">
        <svg
          height="24px"
          width="24px"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          x="0px"
          y="0px"
          viewBox="0 0 511.999 511.999"
          xmlSpace="preserve"
        >
          <path
            d="M418.071,297.743h-40.208H93.929c-31.846,0-57.754,25.909-57.754,57.755s25.909,57.754,57.754,57.754h33.852
            l-4.369,3.549c-5.031,4.088-7.295,10.561-5.909,16.892c1.386,6.332,6.147,11.268,12.426,12.879l2.269,0.583l-11.198,43.629
            c-1.373,5.35,1.851,10.799,7.2,12.172l34.009,8.729c0.819,0.211,1.654,0.314,2.486,0.314c1.776,0,3.537-0.474,5.091-1.393
            c2.283-1.351,3.936-3.553,4.595-6.121l11.199-43.631l2.269,0.583c6.279,1.611,12.828-0.421,17.092-5.304
            c4.264-4.882,5.396-11.645,2.956-17.649l-10.257-25.233h180.223h40.208v0.001c31.846,0,57.754-25.908,57.754-57.754
            S449.915,297.743,418.071,297.743z M134.364,438.712l-0.004,0.015c0.002-0.006,0.003-0.013,0.005-0.019
            C134.364,438.71,134.364,438.711,134.364,438.712z M182.116,439.318c-2.921-0.752-5.959-0.32-8.556,1.216
            c-2.596,1.535-4.438,3.989-5.186,6.907l-10.879,42.387l-14.638-3.758l10.878-42.382c0.751-2.922,0.319-5.961-1.218-8.558
            c-1.537-2.596-3.992-4.438-6.906-5.182l-5.064-1.301l18.953-15.396l12.441-10.106l4.108,10.106l11.123,27.364L182.116,439.318z
             M367.862,393.252H189.51l-4.126-10.15c-1.194-2.936-3.708-5.133-6.778-5.92c-3.072-0.79-6.332-0.075-8.792,1.924L152.4,393.252
            H93.929c-20.818,0-37.754-16.937-37.754-37.754c0-20.818,16.937-37.755,37.754-37.755h273.934V393.252z M418.071,393.252h-30.208
            v-75.509h30.208c20.818,0,37.754,16.937,37.754,37.755C455.824,376.315,438.887,393.252,418.071,393.252z"
          />
          <path
            d="M423.868,332.589c-3.425-4.332-9.714-5.069-14.046-1.642c-4.333,3.425-5.067,9.714-1.642,14.046l6.735,8.519
            l-6.735,8.519c-3.425,4.332-2.69,10.621,1.642,14.046c1.836,1.452,4.023,2.156,6.195,2.156c2.953-0.001,5.877-1.302,7.851-3.798
            l11.64-14.721c2.875-3.635,2.875-8.77,0-12.404L423.868,332.589z"
          />
          <path
            d="M96.979,359.319c0.25,0.61,0.56,1.19,0.92,1.73c0.37,0.55,0.79,1.06,1.25,1.52c0.46,0.461,0.97,0.881,1.52,1.24
            c0.54,0.36,1.12,0.67,1.72,0.92c0.61,0.25,1.23,0.44,1.87,0.57c0.65,0.13,1.3,0.2,1.96,0.2c0.65,0,1.3-0.07,1.95-0.2
            c0.64-0.13,1.27-0.32,1.87-0.57c0.6-0.25,1.19-0.56,1.73-0.92c0.54-0.359,1.06-0.779,1.52-1.24c0.46-0.46,0.88-0.97,1.24-1.52
            c0.36-0.54,0.67-1.12,0.92-1.73c0.25-0.6,0.44-1.229,0.57-1.869c0.13-0.641,0.2-1.301,0.2-1.95c0-0.65-0.07-1.311-0.2-1.96
            c-0.13-0.63-0.32-1.26-0.57-1.87c-0.25-0.601-0.56-1.18-0.92-1.72c-0.36-0.551-0.78-1.061-1.24-1.521
            c-0.46-0.46-0.98-0.88-1.52-1.25c-0.54-0.36-1.13-0.67-1.73-0.92c-0.6-0.25-1.23-0.44-1.87-0.57c-3.25-0.649-6.7,0.41-9.02,2.74
            c-0.46,0.46-0.88,0.97-1.25,1.521c-0.36,0.54-0.67,1.119-0.92,1.72c-0.25,0.61-0.44,1.24-0.57,1.87
            c-0.13,0.649-0.19,1.31-0.19,1.96c0,0.649,0.06,1.31,0.19,1.95S96.729,358.72,96.979,359.319z"
          />
          <path
            d="M150.16,359.319c0.25,0.61,0.56,1.19,0.92,1.73c0.37,0.55,0.79,1.06,1.25,1.52c0.46,0.461,0.97,0.881,1.52,1.24
            c0.54,0.36,1.12,0.67,1.72,0.92c0.61,0.25,1.24,0.44,1.87,0.57c0.65,0.13,1.31,0.2,1.96,0.2s1.31-0.07,1.95-0.2
            c0.64-0.13,1.27-0.32,1.87-0.57c0.61-0.25,1.19-0.56,1.73-0.92c0.55-0.359,1.06-0.779,1.52-1.24c0.46-0.46,0.88-0.97,1.24-1.52
            c0.36-0.54,0.67-1.12,0.92-1.73c0.25-0.6,0.44-1.229,0.57-1.869c0.13-0.641,0.2-1.301,0.2-1.95c0-0.65-0.07-1.311-0.2-1.96
            c-0.13-0.63-0.32-1.26-0.57-1.87c-0.25-0.601-0.56-1.18-0.92-1.72c-0.36-0.551-0.78-1.061-1.24-1.521
            c-2.32-2.33-5.77-3.39-9.03-2.74c-0.63,0.13-1.26,0.32-1.87,0.57c-0.6,0.25-1.18,0.56-1.72,0.92c-0.55,0.37-1.06,0.79-1.52,1.25
            c-0.46,0.46-0.88,0.97-1.25,1.521c-0.36,0.54-0.67,1.119-0.92,1.72c-0.25,0.61-0.44,1.24-0.57,1.87
            c-0.13,0.649-0.19,1.31-0.19,1.96c0,0.649,0.06,1.31,0.19,1.95S149.91,358.72,150.16,359.319z"
          />
          <path
            d="M203.349,359.319c0.25,0.61,0.56,1.19,0.92,1.73c0.36,0.55,0.78,1.06,1.24,1.52c0.46,0.461,0.97,0.881,1.52,1.24
            c0.54,0.36,1.12,0.67,1.73,0.92c0.6,0.25,1.23,0.44,1.87,0.57c0.64,0.13,1.3,0.2,1.95,0.2c0.65,0,1.31-0.07,1.95-0.2
            s1.27-0.32,1.87-0.57c0.61-0.25,1.19-0.56,1.73-0.92c0.55-0.359,1.06-0.779,1.52-1.24c0.46-0.46,0.88-0.97,1.24-1.52
            c0.36-0.54,0.67-1.12,0.92-1.73c0.25-0.6,0.44-1.229,0.57-1.869c0.13-0.641,0.2-1.301,0.2-1.95c0-0.65-0.07-1.311-0.2-1.96
            c-0.12-0.63-0.32-1.26-0.57-1.87c-0.25-0.601-0.56-1.18-0.92-1.72c-0.36-0.551-0.78-1.061-1.24-1.521
            c-2.32-2.33-5.78-3.39-9.02-2.74c-0.64,0.13-1.27,0.32-1.88,0.57c-0.6,0.25-1.18,0.56-1.72,0.92c-0.55,0.37-1.06,0.79-1.52,1.25
            c-0.46,0.46-0.88,0.97-1.24,1.521c-0.36,0.54-0.67,1.119-0.92,1.72c-0.25,0.61-0.45,1.24-0.57,1.87
            c-0.13,0.649-0.2,1.31-0.2,1.96c0,0.649,0.07,1.31,0.2,1.95C202.899,358.09,203.099,358.72,203.349,359.319z"
          />
          <path
            d="M256.53,359.319c0.25,0.61,0.56,1.19,0.92,1.73c0.36,0.55,0.78,1.06,1.24,1.52c0.46,0.461,0.97,0.881,1.52,1.24
            c0.54,0.36,1.12,0.67,1.73,0.92c0.6,0.25,1.23,0.44,1.87,0.57c0.64,0.13,1.3,0.2,1.95,0.2s1.31-0.07,1.95-0.2
            s1.27-0.32,1.87-0.57c0.61-0.25,1.19-0.56,1.73-0.92c0.55-0.359,1.06-0.779,1.52-1.24c0.46-0.46,0.88-0.97,1.24-1.52
            c0.36-0.54,0.67-1.12,0.92-1.73c0.25-0.6,0.45-1.229,0.57-1.869c0.13-0.641,0.2-1.301,0.2-1.95c0-0.65-0.07-1.311-0.2-1.96
            c-0.12-0.63-0.32-1.26-0.57-1.87c-0.25-0.601-0.56-1.18-0.92-1.72c-0.36-0.551-0.78-1.061-1.24-1.521
            c-2.32-2.33-5.78-3.39-9.02-2.74c-0.64,0.13-1.27,0.32-1.87,0.57c-0.61,0.25-1.19,0.56-1.73,0.92c-0.55,0.37-1.06,0.79-1.52,1.25
            c-0.46,0.46-0.88,0.97-1.24,1.521c-0.36,0.54-0.67,1.119-0.92,1.72c-0.25,0.61-0.44,1.24-0.57,1.87
            c-0.13,0.649-0.2,1.31-0.2,1.96c0,0.649,0.07,1.31,0.2,1.95C256.09,358.09,256.28,358.72,256.53,359.319z"
          />
          <path
            d="M309.71,359.319c0.25,0.61,0.56,1.19,0.92,1.73c0.36,0.55,0.78,1.06,1.24,1.52c0.46,0.461,0.97,0.881,1.52,1.24
            c0.54,0.36,1.12,0.67,1.73,0.92c0.6,0.25,1.23,0.44,1.87,0.57c0.64,0.13,1.3,0.2,1.95,0.2s1.31-0.07,1.96-0.2
            c0.63-0.13,1.26-0.32,1.87-0.57c0.6-0.25,1.18-0.56,1.72-0.92c0.55-0.359,1.06-0.779,1.52-1.24c0.46-0.46,0.88-0.97,1.25-1.52
            c0.36-0.54,0.67-1.12,0.92-1.73c0.25-0.6,0.44-1.229,0.57-1.869c0.13-0.641,0.19-1.301,0.19-1.95c0-0.65-0.06-1.311-0.19-1.96
            c-0.13-0.63-0.32-1.26-0.57-1.87c-0.25-0.601-0.56-1.18-0.92-1.72c-0.37-0.551-0.79-1.061-1.25-1.521
            c-0.46-0.46-0.97-0.88-1.52-1.25c-0.54-0.36-1.12-0.67-1.72-0.92c-0.61-0.25-1.24-0.44-1.87-0.57c-1.29-0.26-2.62-0.26-3.91,0
            c-0.64,0.13-1.27,0.32-1.87,0.57c-0.61,0.25-1.19,0.56-1.73,0.92c-0.55,0.37-1.06,0.79-1.52,1.25
            c-0.46,0.46-0.88,0.97-1.24,1.521c-0.36,0.54-0.67,1.119-0.92,1.72c-0.25,0.61-0.44,1.24-0.57,1.87
            c-0.13,0.649-0.2,1.31-0.2,1.96c0,0.649,0.07,1.31,0.2,1.95S309.46,358.72,309.71,359.319z"
          />
          <path
            d="M168.259,252.763c0.245,0.233,0.498,0.459,0.768,0.668c22.963,17.766,50.111,27.821,78.925,29.321
            c0.205,0.011,0.411,0.021,0.616,0.031c0.914,0.044,1.831,0.078,2.748,0.105c0.27,0.008,0.54,0.018,0.81,0.025
            c1.131,0.026,2.263,0.043,3.399,0.043c1.142,0,2.281-0.017,3.419-0.043c0.26-0.006,0.518-0.016,0.777-0.024
            c0.94-0.027,1.877-0.062,2.813-0.107c0.18-0.009,0.359-0.018,0.538-0.028c29.286-1.515,56.797-11.843,79.972-30.112
            c0.318-0.251,0.617-0.522,0.899-0.806C376.267,225.885,397,186.061,397,141.479C397.001,63.467,333.535,0,255.525,0
            S114.046,63.467,114.046,141.478C114.046,186.591,135.27,226.839,168.259,252.763z M268.515,262.259
            c-0.62,0.065-1.241,0.125-1.863,0.181c-0.688,0.063-1.375,0.126-2.066,0.177c-1.199,0.087-2.401,0.157-3.607,0.209
            c-0.413,0.019-0.826,0.033-1.24,0.047c-1.401,0.047-2.805,0.081-4.215,0.081c-1.392,0-2.778-0.033-4.162-0.079
            c-0.408-0.014-0.815-0.029-1.221-0.046c-1.151-0.05-2.298-0.116-3.443-0.197c-0.666-0.048-1.33-0.106-1.993-0.165
            c-0.718-0.063-1.435-0.131-2.151-0.206c-0.799-0.085-1.597-0.173-2.392-0.274c-0.141-0.018-0.281-0.039-0.422-0.057
            c-20.159-2.627-38.78-10.213-54.596-21.493v-18.105c0-23.827,11.834-44.928,29.92-57.779
            c11.304,8.834,25.509,14.119,40.934,14.119s29.631-5.284,40.934-14.119c18.086,12.851,29.92,33.952,29.92,57.779v17.412h0.001
            C310.113,251.929,290.157,259.948,268.515,262.259z M255.525,20c66.983,0,121.478,54.494,121.478,121.478
            c0,30.622-11.394,58.63-30.159,80.018c-0.265-29.199-14.371-55.15-36.064-71.597c7.453-10.756,11.835-23.793,11.835-37.841
            c0-3.305-0.245-6.629-0.729-9.88c-0.813-5.462-5.897-9.231-11.363-8.419c-5.463,0.813-9.232,5.899-8.419,11.362
            c0.339,2.279,0.511,4.613,0.511,6.937c0,10.303-3.366,19.832-9.048,27.557c-4.61,6.268-10.747,11.341-17.859,14.673
            c-5.99,2.807-12.667,4.385-19.707,4.385c-7.04,0-13.717-1.578-19.707-4.385c-7.112-3.332-13.249-8.405-17.859-14.673
            c-5.682-7.725-9.048-17.253-9.048-27.557c0-25.703,20.911-46.614,46.614-46.614c3.538,0,7.061,0.396,10.473,1.179
            c5.389,1.239,10.749-2.129,11.982-7.513c1.234-5.383-2.129-10.747-7.512-11.981c-4.875-1.118-9.903-1.685-14.942-1.685
            c-36.731,0-66.614,29.883-66.614,66.614c0,14.048,4.382,27.085,11.835,37.841c-21.901,16.604-36.075,42.893-36.075,72.433v0.222
            c-19.326-21.518-31.101-49.946-31.101-81.076C134.046,74.494,188.541,20,255.525,20z"
          />
          <path
            d="M288.259,77.37c0.25,0.6,0.56,1.18,0.92,1.72c0.36,0.55,0.78,1.06,1.24,1.52c0.46,0.471,0.97,0.881,1.52,1.25
            c0.54,0.36,1.12,0.671,1.73,0.921c0.6,0.25,1.23,0.439,1.87,0.569s1.3,0.19,1.95,0.19s1.31-0.061,1.95-0.19
            c0.64-0.13,1.27-0.319,1.88-0.569c0.6-0.25,1.18-0.561,1.72-0.921c0.55-0.369,1.06-0.779,1.52-1.25
            c0.46-0.46,0.88-0.97,1.24-1.52c0.36-0.54,0.67-1.12,0.92-1.72c0.25-0.61,0.45-1.23,0.57-1.87c0.13-0.65,0.2-1.3,0.2-1.96
            c0-0.65-0.07-1.311-0.2-1.95c-0.12-0.64-0.32-1.271-0.57-1.87s-0.56-1.189-0.92-1.729c-0.36-0.551-0.78-1.061-1.24-1.521
            c-0.46-0.46-0.97-0.88-1.52-1.24c-0.54-0.359-1.12-0.67-1.72-0.92c-0.61-0.25-1.24-0.439-1.88-0.569
            c-1.29-0.261-2.61-0.261-3.9,0c-0.64,0.13-1.27,0.319-1.87,0.569c-0.61,0.25-1.19,0.561-1.73,0.92
            c-0.55,0.36-1.06,0.78-1.52,1.24c-0.46,0.46-0.88,0.97-1.24,1.521c-0.36,0.54-0.67,1.13-0.92,1.729s-0.44,1.23-0.57,1.87
            c-0.13,0.64-0.2,1.3-0.2,1.95c0,0.66,0.07,1.31,0.2,1.96C287.819,76.14,288.009,76.76,288.259,77.37z"
          />
        </svg>
        <span>{t("chatMenu.login")}</span>
      </Link>
    ) : (
      <Link to={`/${i18n.language}/chat`} className="a-i-c t-c flex f-w f-h j-c-f-s h6-s btn-sec no-border">
        <svg
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          x="0px"
          y="0px"
          width="24px"
          height="24px"
          viewBox="0 0 511.999 511.999"
          xmlSpace="preserve"
        >
          <path
            d="M510.156,401.843L480.419,315.3c14.334-29.302,21.909-61.89,21.96-94.679c0.088-57.013-21.97-110.92-62.112-151.79
            C400.117,27.953,346.615,4.942,289.615,4.039C230.51,3.105,174.954,25.587,133.187,67.353
            c-40.274,40.273-62.612,93.366-63.319,150.102C30.174,247.341,6.745,293.936,6.822,343.705
            c0.037,23.29,5.279,46.441,15.212,67.376L1.551,470.689c-3.521,10.247-0.949,21.373,6.713,29.035
            c5.392,5.393,12.501,8.264,19.812,8.264c3.076,0,6.188-0.508,9.223-1.551l59.609-20.483c20.935,9.933,44.086,15.175,67.376,15.212
            c0.084,0,0.164,0,0.248,0c50.51-0.002,97.46-24.035,127.237-64.702c30.987-0.816,61.646-8.317,89.363-21.876l86.544,29.738
            c3.606,1.239,7.304,1.843,10.959,1.843c8.688,0,17.136-3.412,23.545-9.822C511.284,427.242,514.34,414.021,510.156,401.843z
             M164.53,470.69c-0.065,0-0.134,0-0.199,0c-20.614-0.031-41.085-5.113-59.196-14.695c-3.724-1.969-8.096-2.31-12.078-0.942
            l-61.123,21.003l21.003-61.122c1.368-3.983,1.028-8.355-0.942-12.078c-9.582-18.112-14.664-38.582-14.696-59.197
            c-0.051-33.159,12.848-64.588,35.405-88.122c7.368,44.916,28.775,86.306,61.957,118.898
            c32.937,32.351,74.339,52.949,119.011,59.683C230.084,457.367,198.288,470.69,164.53,470.69z M480.628,414.797
            c-0.867,0.867-1.895,1.103-3.051,0.705l-92.648-31.836c-1.609-0.553-3.283-0.827-4.951-0.827c-2.459,0-4.909,0.595-7.126,1.769
            c-26.453,13.994-56.345,21.416-86.447,21.462c-0.099,0-0.189,0-0.288,0c-100.863,0-184.176-81.934-185.774-182.773
            c-0.805-50.785,18.513-98.514,54.394-134.395c35.881-35.881,83.618-55.192,134.396-54.392
            c100.936,1.601,182.926,85.068,182.77,186.063c-0.047,30.102-7.468,59.995-21.461,86.446c-1.97,3.723-2.31,8.095-0.942,12.078
            l31.835,92.648C481.732,412.905,481.494,413.932,480.628,414.797z"
          />
          <path
            d="M376.892,139.512h-181.56c-8.416,0-15.238,6.823-15.238,15.238c0,8.416,6.823,15.238,15.238,15.238h181.56
			      c8.416,0,15.238-6.823,15.238-15.238C392.13,146.335,385.308,139.512,376.892,139.512z"
          />
          <path
            d="M376.892,202.183h-181.56c-8.416,0-15.238,6.823-15.238,15.238s6.823,15.238,15.238,15.238h181.56
			      c8.416,0,15.238-6.823,15.238-15.238S385.308,202.183,376.892,202.183z"
          />
          <path
            d="M307.004,264.852H195.331c-8.416,0-15.238,6.823-15.238,15.238c0,8.416,6.823,15.238,15.238,15.238h111.672
			      c8.416,0,15.238-6.823,15.238-15.238C322.241,271.675,315.42,264.852,307.004,264.852z"
          />
        </svg>
        <span>{t("chatMenu.chat")}</span>
      </Link>
    ),
    <Button onClick={() => dispatch(showMenu(false))} className="f-w f-h j-c-f-s h6-s btn-sec no-border" type="button">
      <svg
        className="close"
        width="18px"
        height="18px"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        x="0px"
        y="0px"
        viewBox="0 0 22.88 22.88"
        xmlSpace="preserve"
      >
        <path
          d="M0.324,1.909c-0.429-0.429-0.429-1.143,0-1.587c0.444-0.429,1.143-0.429,1.587,0l9.523,9.539
          l9.539-9.539c0.429-0.429,1.143-0.429,1.571,0c0.444,0.444,0.444,1.159,0,1.587l-9.523,9.524l9.523,9.539
          c0.444,0.429,0.444,1.143,0,1.587c-0.429,0.429-1.143,0.429-1.571,0l-9.539-9.539l-9.523,9.539c-0.444,0.429-1.143,0.429-1.587,0
          c-0.429-0.444-0.429-1.159,0-1.587l9.523-9.539L0.324,1.909z"
        />
      </svg>
      <span>{t("chatMenu.cl")}</span>
    </Button>
  ];

  return (
    <div className={`menu grid ${width < 600 && displayMenu ? "show-menu" : "hide-menu"} ${hide ? "none" : ""}`} ref={menuRef}>
      <div className="langs flex j-c-s-a a-i-c f-f-r-n f-w f-h">
        {languages.map((item, index) => (
          <button
            key={index}
            aria-label={t(`navbar.ariaLabel.langButton.${item}}`)}
            onClick={(event: MouseEvent<HTMLButtonElement>) => setLanguageCookie(event, history)}
            data-lang={item}
            className={`icon-nav btn-sec ${location.pathname.split("/")[1] === item ? "active" : ""}`}
          >
            {item.toUpperCase()}
          </button>
        ))}
      </div>
      <div className="list flex f-f-c-n j-c-s-b">
        <ul className="flex j-c-s-a a-i-c f-f-c-w">
          {navbarMenuList.map((item, index) => (
            <li key={index} className="menu-item">
              {item}
            </li>
          ))}
        </ul>
      </div>
      <div className="switch-cont">
        <div className="flex j-c-c a-i-c theme">
          <ThemeSwitch />
        </div>
      </div>
    </div>
  );
};
